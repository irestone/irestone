<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css">
  <title>IRESTONE</title>
</head>

<body class="kitties-body">

  <div class="kitties"></div>

  <script src="/masonry.pkgd.min.js"></script>
  <script>
    const sources = [
      'https://media.giphy.com/media/nRnY3U7u4AvXq/giphy.gif',
      'https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif',
      'https://media.giphy.com/media/9VgB7x6yTpvOMHauzh/giphy.gif',
      'https://media.giphy.com/media/dIVa0pwco4Mj5rQ7gy/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/G6fmc0H5xpZDO/giphy.gif',
      'https://media.giphy.com/media/XKS43DNcWuxR7Mk7DL/giphy.gif',
      'https://media.giphy.com/media/Cw7zcoURGz4xa/giphy.gif',
      'https://media.giphy.com/media/E0cyxhawhe9dm/giphy.gif',
      'https://media.giphy.com/media/o5Tl5madm47jG/giphy.gif',
      'https://media.giphy.com/media/TKfywHrPHpJiE/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/9Dm75WhiBkZ3FVJKTV/giphy.gif',
      'https://media.giphy.com/media/v0chtzArxVklO/giphy.gif',
      'https://media.giphy.com/media/11bV8o4fJ3vpOE/giphy.gif',
      'https://media.giphy.com/media/3Ev8JMnsNqUM/giphy.gif',
      'https://media.giphy.com/media/g4INsUG88obzw9wExT/giphy.gif',
      'https://media.giphy.com/media/5ztEKjZUDQ0XC/giphy.gif',
      'https://media.giphy.com/media/LYd7VuYqXokv20CaEG/giphy.gif',
      'https://media.giphy.com/media/v6aOjy0Qo1fIA/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/12bt2k8A5MVhO8/giphy.gif',
      'https://media.giphy.com/media/2uIkZyLx04rVGS55gt/giphy.gif',
      'https://media.giphy.com/media/C23cMUqoZdqMg/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/qoxM1gi6i0V9e/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/iPiUxztIL4Sl2/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/3rgXBN6i9LIUg6lSLe/giphy.gif',
      'https://media.giphy.com/media/1hM7LdfmMGMnDYnkg9/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/lN9amhr8GZMhG/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/13CoXDiaCcCoyk/giphy.gif',
      'https://media.giphy.com/media/10SAlsUFbyl5Dy/giphy.gif',
      'https://media.giphy.com/media/xBAreNGk5DapO/giphy.gif',
      'https://media.giphy.com/media/1Yfxps0AHRYBR2tK2G/giphy.gif',
      'https://media.giphy.com/media/yFQ0ywscgobJK/giphy.gif',
      'https://media.giphy.com/media/3o7WIL7t14NfgFh7Yk/giphy.gif',
      'https://media.giphy.com/media/MCfhrrNN1goH6/giphy.gif',
      'https://media.giphy.com/media/RhrAmVUHxjTQvEPBWi/giphy.gif',
      'https://media.giphy.com/media/vFKqnCdLPNOKc/giphy.gif',
      'https://media.giphy.com/media/Z5y6DoZycMgXS/giphy.gif',
      'http://giphygifs.s3.amazonaws.com/media/mhDwIpbsgGKk/giphy.gif'
    ]

    const createGrid = (grid = document.body, sources = []) => {
      if (!sources.length) return

      grid.classList.add('grid')

      const gridSizer = document.createElement('div')
      gridSizer.classList.add('grid-sizer')
      grid.appendChild(gridSizer)

      const masonry = new Masonry('.grid', {
        itemSelector: '.grid-item',
        columnWidth: '.grid-sizer',
        percentPosition: true
      })

      let i = 0

      const load = (e) => {
        if (e && e.type === 'error') {
          grid.removeChild(e.target.parentNode)
        }

        masonry.layout()
        const src = sources[i++]
        if (!src) return
        const elem = createGridItem(grid, src, load)
        masonry.appended(elem)
      }

      load()
    }

    const createGridItem = (grid, src, cb) => {
      const div = document.createElement('div')
      div.classList.add('grid-item')
      const img = document.createElement('img')
      img.src = src
      img.onload = cb
      img.onerror = cb
      div.appendChild(img)
      grid.appendChild(div)
      return div
    }

    createGrid(document.querySelector('.kitties'), sources)

  </script>
</body>

</html>
